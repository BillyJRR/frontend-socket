<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario con Socket - TEST 2</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
  <h2>Formulario con Socket</h2>
  <form>
    <label>Nombre:</label>
    <input type="text" id="name" readonly><br><br>

    <label>Email:</label>
    <input type="text" id="email" readonly><br><br>

    <label>Teléfono:</label>
    <input type="text" id="phone" readonly>
  </form>

  <script>
    // Conexión al backend (cambiar la URL por la de Azure)
    const socket = io("https://backend-socket-hgb0cnbrbgccf6hk.canadacentral-01.azurewebsites.net", { transports: ['websocket'] });
    
    socket.on("connect", () => {
      console.log("Conectado al socket:", socket.id);
    });

    // Escuchar los datos que llegan desde el backend
    socket.on("formData", (data) => {
      console.log("Datos recibidos:", data);

      // Rellenar los inputs del formulario
      document.getElementById("name").value = data.name || "";
      document.getElementById("email").value = data.email || "";
      document.getElementById("phone").value = data.phone || "";
    });
  </script>
</body>
</html>
